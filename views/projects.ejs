<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projects - Recycling Initiatives</title>
  <link href="/css/main.css" rel="stylesheet" />
</head>

<body class="bg-gradient-to-br from-amber-50 via-lime-50 to-emerald-50 min-h-screen text-gray-800">

  <%- include('partials/navbar', { page: '/solutions/projects' }) %>

  <div class="hero bg-gradient-to-r from-emerald-100 via-green-50 to-amber-100 shadow-md rounded-xl my-10 mx-6 border border-emerald-100">
    <div class="hero-content text-center">
      <div class="max-w-2xl">
        <h1 class="text-5xl font-bold mb-4 text-emerald-700">Recycling Projects</h1>
        <p class="py-4 text-lg text-emerald-700">Browse all recycling initiatives or filter by category below.</p>

        <div class="flex justify-center flex-wrap gap-3">
          <a href="/solutions/projects?sector=plastic" class="btn bg-emerald-400 hover:bg-emerald-500 border-none text-white rounded-full">Plastic</a>
          <a href="/solutions/projects?sector=organic" class="btn bg-amber-300 hover:bg-amber-400 border-none text-emerald-900 rounded-full">Organic Waste</a>
          <a href="/solutions/projects?sector=electronic" class="btn bg-sky-400 hover:bg-sky-500 border-none text-white rounded-full">Electronic Waste</a>
        </div>
      </div>
    </div>
  </div>

  <div class="container mx-auto px-4 mb-10">
    <% if (projects && projects.length > 0) { %>
      <div class="overflow-x-auto bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-amber-100">
        <table class="table table-zebra w-full">
          <thead class="text-emerald-700">
            <tr class="text-lg">
              <th>Title</th>
              <th>Category</th>
              <th>Summary</th>
              <th>Details</th>
            </tr>
          </thead>
          <tbody>
            <% projects.forEach(project => { %>
              <tr>
                <td class="font-semibold text-gray-800"><%= project.title %></td>
                <td>
                  <span class="badge text-white font-semibold px-3 py-1 rounded-full
                    <%= project.category === 'PLASTIC' 
                      ? 'bg-emerald-500' 
                      : project.category === 'ORGANIC WASTE' 
                      ? 'bg-amber-500' 
                      : project.category === 'ELECTRONIC WASTE' 
                      ? 'bg-sky-500' 
                      : 'bg-gray-400' %>">
                    <%= project.category || 'UNKNOWN' %>
                  </span>
                </td>
                <td class="text-gray-700"><%= project.summary_short %></td>
                <td>
                  <a href="/solutions/projects/<%= project.id %>" class="btn btn-sm bg-emerald-400 hover:bg-emerald-500 border-none text-white rounded-full">Details</a>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    <% } else { %>
      <div class="text-center mt-10">
        <h2 class="text-2xl text-emerald-700 font-semibold mb-3">No projects found</h2>
        <p class="text-gray-600">Try selecting another category above!</p>
      </div>
    <% } %>
  </div>

</body>
</html>
